<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Fri Jul 17 08:19:04 PDT 2015 -->
<title>TaskScheduler (fenzo-core 0.7.0-SNAPSHOT API)</title>
<meta name="date" content="2015-07-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TaskScheduler (fenzo-core 0.7.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/netflix/fenzo/TaskScheduler.Builder.html" title="class in com.netflix.fenzo"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/netflix/fenzo/TaskScheduler.html" target="_top">Frames</a></li>
<li><a href="TaskScheduler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.netflix.fenzo</div>
<h2 title="Class TaskScheduler" class="title">Class TaskScheduler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.netflix.fenzo.TaskScheduler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TaskScheduler</span>
extends java.lang.Object</pre>
<div class="block"><code>TaskScheduler</code> provides a scheduling service for assigning resources to tasks. User calls the method
 <code>scheduleOnce()</code> with a list of task requests and a list of new resource lease offers. Any unused lease
 offers are stored for use in future calls to <code>scheduleOnce()</code> until a time transpires, defined by the
 lease offer expiry time that is set when building the <code>TaskScheduler</code>. The default is 10 seconds.
 Upon reaching the expiry time, resource lease offers are rejected by invoking the action supplied with the builder.
 
 TaskScheduler can be used in two modes:
 <dl>
  <dt>Simple mode with no optimizations</dt>
   <dd></dd>In this mode, after building the <code>TaskScheduler</code> object, only the
            <code>scheduleOnce()</code> method need be called.</dd>
  <dt>Optimizations mode</dt>
   <dd>In this mode, (@code TaskScheduler} attempts to optimize the placement of tasks on
             resources by using the optimization functions (To be added). This requires that the user not only call
             <code>scheduleOnce()</code> method but also the task assigner and task un-assigner actions available from
             the methods <code>getTaskAssigner()</code> and <code>getTaskUnAssigner()</code>. These actions make the
             <code>TaskScheduler</code> keep track of tasks already assigned. Tracked tasks are then made available to optimization
             functions.</dd>
  </dl>

 
     The scheduler cannot be called concurrently. Task assignment proceeds in the order of the tasks received in
 given list. Each task is checked against available resources until a match is found.
 
     The builder provides other methods to set autoscaling rules and fitness calculators, etc.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.Builder.html" title="class in com.netflix.fenzo">TaskScheduler.Builder</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#addOrReplaceAutoScaleRule-com.netflix.fenzo.AutoScaleRule-">addOrReplaceAutoScaleRule</a></span>(<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&nbsp;rule)</code>
<div class="block">Add a new autoscale rule.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#addOrReplaceResAllocs-com.netflix.fenzo.sla.ResAllocs-">addOrReplaceResAllocs</a></span>(<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&nbsp;resAllocs)</code>
<div class="block">Add a new resource allocation, or replace an existing one of the same name.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#disableVM-java.lang.String-long-">disableVM</a></span>(java.lang.String&nbsp;hostname,
         long&nbsp;durationMillis)</code>
<div class="block">Disable a VM with the given hostname.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#disableVMByVMId-java.lang.String-long-">disableVMByVMId</a></span>(java.lang.String&nbsp;vmID,
               long&nbsp;durationMillis)</code>
<div class="block">Disable a VM given it's ID.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#enableVM-java.lang.String-">enableVM</a></span>(java.lang.String&nbsp;hostname)</code>
<div class="block">Enable the VM with the given host name.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireAllLeases--">expireAllLeases</a></span>()</code>
<div class="block">Expire all leases currently stored.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireAllLeases-java.lang.String-">expireAllLeases</a></span>(java.lang.String&nbsp;hostname)</code>
<div class="block">Expire all leases of a host with the name <code>hostname</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireAllLeasesByVMId-java.lang.String-">expireAllLeasesByVMId</a></span>(java.lang.String&nbsp;vmId)</code>
<div class="block">Expire all leases of a host with the Id, <code>vmId</code>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireLease-java.lang.String-">expireLease</a></span>(java.lang.String&nbsp;leaseId)</code>
<div class="block">Expire a resource lease with the given lease Id.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getAutoScaleRules--">getAutoScaleRules</a></span>()</code>
<div class="block">Get the currently registered autoscale rules.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getResAllocs--">getResAllocs</a></span>()</code>
<div class="block">Get the current mapping of resource allocations registered</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.util.Map&lt;<a href="../../../com/netflix/fenzo/VMResource.html" title="enum in com.netflix.fenzo">VMResource</a>,java.lang.Double[]&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getResourceStatus--">getResourceStatus</a></span>()</code>
<div class="block">Returns state of resources on all known hosts.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;<a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskAssigner--">getTaskAssigner</a></span>()</code>
<div class="block">Get the task assigner action object.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskUnAssigner--">getTaskUnAssigner</a></span>()</code>
<div class="block">Get the task unassigner object.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineCurrentState.html" title="interface in com.netflix.fenzo">VirtualMachineCurrentState</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getVmCurrentStates--">getVmCurrentStates</a></span>()</code>
<div class="block">Returns current state of all known hosts.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#removeAutoScaleRule-java.lang.String-">removeAutoScaleRule</a></span>(java.lang.String&nbsp;ruleName)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#removeResAllocs-java.lang.String-">removeResAllocs</a></span>(java.lang.String&nbsp;groupName)</code>
<div class="block">Remove resource allocation associated with the given name.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../com/netflix/fenzo/SchedulingResult.html" title="class in com.netflix.fenzo">SchedulingResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#scheduleOnce-java.util.List-java.util.List-">scheduleOnce</a></span>(java.util.List&lt;? extends <a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>&gt;&nbsp;requests,
            java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineLease.html" title="interface in com.netflix.fenzo">VirtualMachineLease</a>&gt;&nbsp;newLeases)</code>
<div class="block">Schedule given task requests using newly added resource leases in addition to previously unused leases.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#setActiveVmGroupAttributeName-java.lang.String-">setActiveVmGroupAttributeName</a></span>(java.lang.String&nbsp;attributeName)</code>
<div class="block">A VM (host) can belong to a group.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#setActiveVmGroups-java.util.List-">setActiveVmGroups</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;vmGroups)</code>
<div class="block">Set the list of VM group names that are active.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#setAutoscalerCallback-com.netflix.fenzo.functions.Action1-">setAutoscalerCallback</a></span>(<a href="../../../com/netflix/fenzo/functions/Action1.html" title="interface in com.netflix.fenzo.functions">Action1</a>&lt;<a href="../../../com/netflix/fenzo/AutoScaleAction.html" title="interface in com.netflix.fenzo">AutoScaleAction</a>&gt;&nbsp;callback)</code>
<div class="block">Set the autoscale call back action.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setAutoscalerCallback-com.netflix.fenzo.functions.Action1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutoscalerCallback</h4>
<pre>public&nbsp;void&nbsp;setAutoscalerCallback(<a href="../../../com/netflix/fenzo/functions/Action1.html" title="interface in com.netflix.fenzo.functions">Action1</a>&lt;<a href="../../../com/netflix/fenzo/AutoScaleAction.html" title="interface in com.netflix.fenzo">AutoScaleAction</a>&gt;&nbsp;callback)
                           throws java.lang.IllegalStateException</pre>
<div class="block">Set the autoscale call back action. This action is called when it this scheduler determines that the
 cluster needs to be scaled up or down.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - The callback to invoke for autoscale actions.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If autoscaler wasn't setup.</dd>
</dl>
</li>
</ul>
<a name="getResAllocs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResAllocs</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&gt;&nbsp;getResAllocs()</pre>
<div class="block">Get the current mapping of resource allocations registered</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Current mapping of resource allocations</dd>
</dl>
</li>
</ul>
<a name="addOrReplaceResAllocs-com.netflix.fenzo.sla.ResAllocs-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOrReplaceResAllocs</h4>
<pre>public&nbsp;void&nbsp;addOrReplaceResAllocs(<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&nbsp;resAllocs)</pre>
<div class="block">Add a new resource allocation, or replace an existing one of the same name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resAllocs</code> - The new resource allocation to add.</dd>
</dl>
</li>
</ul>
<a name="removeResAllocs-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeResAllocs</h4>
<pre>public&nbsp;void&nbsp;removeResAllocs(java.lang.String&nbsp;groupName)</pre>
<div class="block">Remove resource allocation associated with the given name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupName</code> - Name of the resource allocation to remove.</dd>
</dl>
</li>
</ul>
<a name="getAutoScaleRules--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAutoScaleRules</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&gt;&nbsp;getAutoScaleRules()</pre>
<div class="block">Get the currently registered autoscale rules.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Collection of autoscale rules currently registered.</dd>
</dl>
</li>
</ul>
<a name="addOrReplaceAutoScaleRule-com.netflix.fenzo.AutoScaleRule-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOrReplaceAutoScaleRule</h4>
<pre>public&nbsp;void&nbsp;addOrReplaceAutoScaleRule(<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&nbsp;rule)</pre>
<div class="block">Add a new autoscale rule. If a rule with the same name exists, it is replaced. This autoscale rule is used
 next time the autoscale action is invoked.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rule</code> - The autoscale rule to add.</dd>
</dl>
</li>
</ul>
<a name="removeAutoScaleRule-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAutoScaleRule</h4>
<pre>public&nbsp;void&nbsp;removeAutoScaleRule(java.lang.String&nbsp;ruleName)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ruleName</code> - </dd>
</dl>
</li>
</ul>
<a name="scheduleOnce-java.util.List-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scheduleOnce</h4>
<pre>public&nbsp;<a href="../../../com/netflix/fenzo/SchedulingResult.html" title="class in com.netflix.fenzo">SchedulingResult</a>&nbsp;scheduleOnce(java.util.List&lt;? extends <a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>&gt;&nbsp;requests,
                                     java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineLease.html" title="interface in com.netflix.fenzo">VirtualMachineLease</a>&gt;&nbsp;newLeases)
                              throws java.lang.IllegalStateException</pre>
<div class="block">Schedule given task requests using newly added resource leases in addition to previously unused leases.
 This is the main scheduling method that attempts to assign resources to the given task requests. Resource
 leases are associated with a host name. A host can have zero or more leases. Leases unused in this scheduling
 run are stored for later use until they expire. Attempt to add a lease object with an Id equal to that of a
 stored lease object is disallowed by throwing <code>IllegalStateException</code>.
 Upon throwing this exception, if multiple leases were given in the <code>newLeases</code> argument,
 the state of internally maintained list of unused leases is unknown - some of the leases may have been
 successfully added.
 
 Any expired leases are rejected before scheduling begins. Then, all leases of a host are combined to
 determine total available resources on the host. Each task request, in the order that they appear in
 the given list, is then tried for assignment against the available hosts until successful. For each
 task, either a successful assignment result, or, the set of assignment failures, is returned.
 
 After all assignments have been evaluated, a certain number of leases are rejected if they are unused and
 their offer time is longer than lease expiration interval. This is to prevent hoarding of leases. If an
 autoscaler was provided, autoscale evaluation is launched to run asynchronously, in which each autoscale rule
 registered is run based on its policy.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requests</code> - List of requests to assign resources to, in the given order.</dd>
<dd><code>newLeases</code> - New resource leases for hosts to be used in addition to any previously ununsed leases.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>SchedulingResult object that contains task assignment results map and other summaries.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If called concurrently or if an existing lease is added again.</dd>
</dl>
</li>
</ul>
<a name="getResourceStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResourceStatus</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.util.Map&lt;<a href="../../../com/netflix/fenzo/VMResource.html" title="enum in com.netflix.fenzo">VMResource</a>,java.lang.Double[]&gt;&gt;&nbsp;getResourceStatus()</pre>
<div class="block">Returns state of resources on all known hosts. This is expected to be used for debugging or informational
 purposes only, and occasionally at that. Calling this obtains and holds a lock for the duration of creating the
 state information. Scheduling runs are blocked around the lock.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map of state information with hostname as key and a Map of resource state. The resource state Map contains
 resource as the key and a two element Double array - first contains used value and the second element contains
 available value (available does not include used).</dd>
</dl>
</li>
</ul>
<a name="getVmCurrentStates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVmCurrentStates</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineCurrentState.html" title="interface in com.netflix.fenzo">VirtualMachineCurrentState</a>&gt;&nbsp;getVmCurrentStates()
                                                              throws java.lang.IllegalStateException</pre>
<div class="block">Returns current state of all known hosts. This is expected to be used for debugging or informational
 purposes only, and occasionally at that. Calling this obtains and holds a lock for the duration of creating the
 state information. Scheduling runs are blocked around the lock.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of current state of all known VMs</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If called concurrently with main scheduling method, scheduleOnce().</dd>
</dl>
</li>
</ul>
<a name="expireLease-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireLease</h4>
<pre>public&nbsp;void&nbsp;expireLease(java.lang.String&nbsp;leaseId)</pre>
<div class="block">Expire a resource lease with the given lease Id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>leaseId</code> - Lease ID of the lease to expire.</dd>
</dl>
</li>
</ul>
<a name="expireAllLeases-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAllLeases</h4>
<pre>public&nbsp;void&nbsp;expireAllLeases(java.lang.String&nbsp;hostname)</pre>
<div class="block">Expire all leases of a host with the name <code>hostname</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - Name of the host.</dd>
</dl>
</li>
</ul>
<a name="expireAllLeasesByVMId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAllLeasesByVMId</h4>
<pre>public&nbsp;boolean&nbsp;expireAllLeasesByVMId(java.lang.String&nbsp;vmId)</pre>
<div class="block">Expire all leases of a host with the Id, <code>vmId</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vmId</code> - ID of the host.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the given Id was known, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="expireAllLeases--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAllLeases</h4>
<pre>public&nbsp;void&nbsp;expireAllLeases()</pre>
<div class="block">Expire all leases currently stored.</div>
</li>
</ul>
<a name="getTaskAssigner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskAssigner</h4>
<pre>public&nbsp;<a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;<a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>,java.lang.String&gt;&nbsp;getTaskAssigner()</pre>
<div class="block">Get the task assigner action object.
 Tasks are scheduled in <code>scheduleOnce()</code> but not tracked by this class. Tracking assigned tasks
 is useful for optimizing future assignments for such purposes as task locality with other tasks, etc. If such
 optimization is desired, call the taskAssigner from this method once for each task assignment actually used. 
 Later, when that task terminates, call the un-assigner from <code>getTaskUnAssigner()</code> as well.
 
 Note that calling the task assigner action concurrently with <code>scheduleOnce()</code> is disallowed. The
 task assigner action will throw <code>IllegalStateException</code> in such a case.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Task assigner action</dd>
</dl>
</li>
</ul>
<a name="getTaskUnAssigner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskUnAssigner</h4>
<pre>public&nbsp;<a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;java.lang.String,java.lang.String&gt;&nbsp;getTaskUnAssigner()</pre>
<div class="block">Get the task unassigner object.
 Call this object's <code>call()</code> method to unassign a previously set assignment for 
 each task that completes so internal state is maitained correctly.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The task un-assigner action.</dd>
</dl>
</li>
</ul>
<a name="disableVM-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableVM</h4>
<pre>public&nbsp;void&nbsp;disableVM(java.lang.String&nbsp;hostname,
                      long&nbsp;durationMillis)</pre>
<div class="block">Disable a VM with the given hostname. If the hostname is not known yet, a new object for it is created and
 therefore, the disabling is remembered when offers come in later. Disabled hosts are not used for allocating
 resources to tasks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - Name of the host to disable.</dd>
<dd><code>durationMillis</code> - duration, in mSec, from now until which to disable</dd>
</dl>
</li>
</ul>
<a name="disableVMByVMId-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableVMByVMId</h4>
<pre>public&nbsp;boolean&nbsp;disableVMByVMId(java.lang.String&nbsp;vmID,
                               long&nbsp;durationMillis)</pre>
<div class="block">Disable a VM given it's ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vmID</code> - The VM ID</dd>
<dd><code>durationMillis</code> - duration, in mSec, from now until which to disable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if VM ID was known, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="enableVM-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableVM</h4>
<pre>public&nbsp;void&nbsp;enableVM(java.lang.String&nbsp;hostname)</pre>
<div class="block">Enable the VM with the given host name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - Name of the host.</dd>
</dl>
</li>
</ul>
<a name="setActiveVmGroupAttributeName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setActiveVmGroupAttributeName</h4>
<pre>public&nbsp;void&nbsp;setActiveVmGroupAttributeName(java.lang.String&nbsp;attributeName)</pre>
<div class="block">A VM (host) can belong to a group. The group is determine by the value of the given attribute name in its offers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attributeName</code> - Name of the attribute to determine a VM's group.</dd>
</dl>
</li>
</ul>
<a name="setActiveVmGroups-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setActiveVmGroups</h4>
<pre>public&nbsp;void&nbsp;setActiveVmGroups(java.util.List&lt;java.lang.String&gt;&nbsp;vmGroups)</pre>
<div class="block">Set the list of VM group names that are active. VMs (hosts) that belong to groups not included in this list are
 said to be disabled. Disabled hosts' resources are not used for allocation. A null list indicates that all
 groups are enabled.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vmGroups</code> - List of VM group names that are set as enabled.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/netflix/fenzo/TaskScheduler.Builder.html" title="class in com.netflix.fenzo"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/netflix/fenzo/TaskScheduler.html" target="_top">Frames</a></li>
<li><a href="TaskScheduler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
