<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Thu Nov 12 14:15:08 PST 2015 -->
<title>TaskScheduler (fenzo-core 0.9.0-SNAPSHOT API)</title>
<meta name="date" content="2015-11-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TaskScheduler (fenzo-core 0.9.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/netflix/fenzo/TaskScheduler.Builder.html" title="class in com.netflix.fenzo"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/netflix/fenzo/TaskScheduler.html" target="_top">Frames</a></li>
<li><a href="TaskScheduler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.netflix.fenzo</div>
<h2 title="Class TaskScheduler" class="title">Class TaskScheduler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.netflix.fenzo.TaskScheduler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TaskScheduler</span>
extends java.lang.Object</pre>
<div class="block">A scheduling service that you can use to optimize the assignment of tasks to hosts within a Mesos framework.
 Call the <a href="../../../com/netflix/fenzo/TaskScheduler.html#scheduleOnce-java.util.List-java.util.List-"><code>scheduleOnce()</code></a> method with a list of task requests and a list of new resource
 lease offers, and that method will return a set of task assignments.
 <p>
 The <code>TaskScheduler</code> stores any unused lease offers and will apply them during future calls to
 <code>scheduleOnce()</code> until a time expires, which is defined by the lease offer expiry time that you set
 when you build the <code>TaskScheduler</code> (the default is 10 seconds). Upon reaching the expiry time, the
 <code>TaskScheduler</code> rejects expired resource lease offers by invoking the action you supplied then you
 built the <code>TaskScheduler</code>.
 <p>
 Note that when you launch a task that has been scheduled by the <code>TaskScheduler</code>, you should call
 the task assigner action available from the <a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskAssigner--"><code>getTaskAssigner()</code></a> method. When that
 task completes, you should call the task unassigner action available from the
 <a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskUnAssigner--"><code>getTaskUnAssigner()</code></a> method. These actions make the <code>TaskScheduler</code> keep
 track of launched tasks. The <code>TaskScheduler</code> then makes these tracked tasks available to its
 scheduling optimization functions.
 </ol>
 Do not call the scheduler concurrently. The scheduler assigns tasks in the order that they are received in a
 particular list. It checks each task against available resources until it finds a match.
 <p>
 You create your <code>TaskScheduler</code> by means of the <a href="../../../com/netflix/fenzo/TaskScheduler.Builder.html" title="class in com.netflix.fenzo"><code>TaskScheduler.Builder</code></a>. It provides methods with
 which you can adjust the scheduler's autoscaling rules, fitness calculators, and so forth.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://en.wikipedia.org/wiki/Builder_pattern">Wikipedia: Builder pattern</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.Builder.html" title="class in com.netflix.fenzo">TaskScheduler.Builder</a></span></code>
<div class="block">The Builder is how you construct a <a href="../../../com/netflix/fenzo/TaskScheduler.html" title="class in com.netflix.fenzo"><code>TaskScheduler</code></a> object with particular characteristics.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#addOrReplaceAutoScaleRule-com.netflix.fenzo.AutoScaleRule-">addOrReplaceAutoScaleRule</a></span>(<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&nbsp;rule)</code>
<div class="block">Add a new autoscale rule to those used by this scheduler.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#addOrReplaceResAllocs-com.netflix.fenzo.sla.ResAllocs-">addOrReplaceResAllocs</a></span>(<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&nbsp;resAllocs)</code>
<div class="block">Add a new resource allocation, or replace an existing one of the same name.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#disableVM-java.lang.String-long-">disableVM</a></span>(java.lang.String&nbsp;hostname,
         long&nbsp;durationMillis)</code>
<div class="block">Disable the virtual machine with the specified hostname.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#disableVMByVMId-java.lang.String-long-">disableVMByVMId</a></span>(java.lang.String&nbsp;vmID,
               long&nbsp;durationMillis)</code>
<div class="block">Disable the virtual machine with the specified ID.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#enableVM-java.lang.String-">enableVM</a></span>(java.lang.String&nbsp;hostname)</code>
<div class="block">Enable the VM with the specified host name.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireAllLeases--">expireAllLeases</a></span>()</code>
<div class="block">Call this method to instruct the task scheduler to reject all of the unused offers it is currently
 holding.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireAllLeases-java.lang.String-">expireAllLeases</a></span>(java.lang.String&nbsp;hostname)</code>
<div class="block">Call this method to instruct the task scheduler to reject all of the unused offers it is currently
 holding that concern resources offered by the host with the name <code>hostname</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireAllLeasesByVMId-java.lang.String-">expireAllLeasesByVMId</a></span>(java.lang.String&nbsp;vmId)</code>
<div class="block">Call this method to instruct the task scheduler to reject all of the unused offers it is currently
 holding that concern resources offered by the host with the ID, <code>vmId</code>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#expireLease-java.lang.String-">expireLease</a></span>(java.lang.String&nbsp;leaseId)</code>
<div class="block">Call this method to instruct the task scheduler to reject a particular resource offer.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getAutoScaleRules--">getAutoScaleRules</a></span>()</code>
<div class="block">Get the autoscale rules currently registered with the scheduler.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getResAllocs--">getResAllocs</a></span>()</code>
<div class="block">Get the current mapping of resource allocations registered with the scheduler.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.util.Map&lt;<a href="../../../com/netflix/fenzo/VMResource.html" title="enum in com.netflix.fenzo">VMResource</a>,java.lang.Double[]&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getResourceStatus--">getResourceStatus</a></span>()</code>
<div class="block">Returns the state of resources on all known hosts.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;<a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskAssigner--">getTaskAssigner</a></span>()</code>
<div class="block">Get the task assigner action.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskUnAssigner--">getTaskUnAssigner</a></span>()</code>
<div class="block">Get the task unassigner action.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineCurrentState.html" title="interface in com.netflix.fenzo">VirtualMachineCurrentState</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#getVmCurrentStates--">getVmCurrentStates</a></span>()</code>
<div class="block">Returns the current state of all known hosts.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#removeAutoScaleRule-java.lang.String-">removeAutoScaleRule</a></span>(java.lang.String&nbsp;ruleName)</code>
<div class="block">Remove the autoscale rule associated with the given name from those used by the scheduler.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#removeResAllocs-java.lang.String-">removeResAllocs</a></span>(java.lang.String&nbsp;groupName)</code>
<div class="block">Remove a resource allocation associated with the specified name.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../com/netflix/fenzo/SchedulingResult.html" title="class in com.netflix.fenzo">SchedulingResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#scheduleOnce-java.util.List-java.util.List-">scheduleOnce</a></span>(java.util.List&lt;? extends <a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>&gt;&nbsp;requests,
            java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineLease.html" title="interface in com.netflix.fenzo">VirtualMachineLease</a>&gt;&nbsp;newLeases)</code>
<div class="block">Schedule a list of task requests by using any newly-added resource leases in addition to any
 previously-unused leases.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#setActiveVmGroupAttributeName-java.lang.String-">setActiveVmGroupAttributeName</a></span>(java.lang.String&nbsp;attributeName)</code>
<div class="block">Set how the scheduler determines to which group the VM (host) belongs.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#setActiveVmGroups-java.util.List-">setActiveVmGroups</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;vmGroups)</code>
<div class="block">Set the list of VM group names that are active.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/netflix/fenzo/TaskScheduler.html#setAutoscalerCallback-com.netflix.fenzo.functions.Action1-">setAutoscalerCallback</a></span>(<a href="../../../com/netflix/fenzo/functions/Action1.html" title="interface in com.netflix.fenzo.functions">Action1</a>&lt;<a href="../../../com/netflix/fenzo/AutoScaleAction.html" title="interface in com.netflix.fenzo">AutoScaleAction</a>&gt;&nbsp;callback)</code>
<div class="block">Set the autoscale call back action.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setAutoscalerCallback-com.netflix.fenzo.functions.Action1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutoscalerCallback</h4>
<pre>public&nbsp;void&nbsp;setAutoscalerCallback(<a href="../../../com/netflix/fenzo/functions/Action1.html" title="interface in com.netflix.fenzo.functions">Action1</a>&lt;<a href="../../../com/netflix/fenzo/AutoScaleAction.html" title="interface in com.netflix.fenzo">AutoScaleAction</a>&gt;&nbsp;callback)
                           throws java.lang.IllegalStateException</pre>
<div class="block">Set the autoscale call back action. The callback you pass to this method receives an indication when an
 autoscale action is to be performed, telling it which autoscale rule prompted the action and whether the
 action is to scale up or scale down the autoscale group. The callback then initiates the appropriate
 scaling actions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - the callback to invoke for autoscale actions</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if no autoscaler was established</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Autoscaling">Autoscaling</a></dd>
</dl>
</li>
</ul>
<a name="getResAllocs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResAllocs</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&gt;&nbsp;getResAllocs()</pre>
<div class="block">Get the current mapping of resource allocations registered with the scheduler.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current mapping of resource allocations</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Resource-Allocation-Limits">Resource Allocation
      Limits</a></dd>
</dl>
</li>
</ul>
<a name="addOrReplaceResAllocs-com.netflix.fenzo.sla.ResAllocs-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOrReplaceResAllocs</h4>
<pre>public&nbsp;void&nbsp;addOrReplaceResAllocs(<a href="../../../com/netflix/fenzo/sla/ResAllocs.html" title="interface in com.netflix.fenzo.sla">ResAllocs</a>&nbsp;resAllocs)</pre>
<div class="block">Add a new resource allocation, or replace an existing one of the same name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resAllocs</code> - the resource allocation to add or replace</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Resource-Allocation-Limits">Resource Allocation
      Limits</a></dd>
</dl>
</li>
</ul>
<a name="removeResAllocs-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeResAllocs</h4>
<pre>public&nbsp;void&nbsp;removeResAllocs(java.lang.String&nbsp;groupName)</pre>
<div class="block">Remove a resource allocation associated with the specified name.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupName</code> - the name of the resource allocation to remove</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Resource-Allocation-Limits">Resource Allocation
      Limits</a></dd>
</dl>
</li>
</ul>
<a name="getAutoScaleRules--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAutoScaleRules</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&gt;&nbsp;getAutoScaleRules()</pre>
<div class="block">Get the autoscale rules currently registered with the scheduler.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a collection of currently registered autoscale rules</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Autoscaling">Autoscaling</a></dd>
</dl>
</li>
</ul>
<a name="addOrReplaceAutoScaleRule-com.netflix.fenzo.AutoScaleRule-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOrReplaceAutoScaleRule</h4>
<pre>public&nbsp;void&nbsp;addOrReplaceAutoScaleRule(<a href="../../../com/netflix/fenzo/AutoScaleRule.html" title="interface in com.netflix.fenzo">AutoScaleRule</a>&nbsp;rule)</pre>
<div class="block">Add a new autoscale rule to those used by this scheduler. If a rule with the same name exists, it is
 replaced. This autoscale rule will be used the next time the scheduler invokes its autoscale action.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rule</code> - the autoscale rule to add</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Autoscaling">Autoscaling</a></dd>
</dl>
</li>
</ul>
<a name="removeAutoScaleRule-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAutoScaleRule</h4>
<pre>public&nbsp;void&nbsp;removeAutoScaleRule(java.lang.String&nbsp;ruleName)</pre>
<div class="block">Remove the autoscale rule associated with the given name from those used by the scheduler.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ruleName</code> - name of the autoscale rule to remove</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Autoscaling">Autoscaling</a></dd>
</dl>
</li>
</ul>
<a name="scheduleOnce-java.util.List-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scheduleOnce</h4>
<pre>public&nbsp;<a href="../../../com/netflix/fenzo/SchedulingResult.html" title="class in com.netflix.fenzo">SchedulingResult</a>&nbsp;scheduleOnce(java.util.List&lt;? extends <a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>&gt;&nbsp;requests,
                                     java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineLease.html" title="interface in com.netflix.fenzo">VirtualMachineLease</a>&gt;&nbsp;newLeases)
                              throws java.lang.IllegalStateException</pre>
<div class="block">Schedule a list of task requests by using any newly-added resource leases in addition to any
 previously-unused leases. This is the main scheduling method that attempts to assign resources to task
 requests. Resource leases are associated with a host name. A host can have zero or more leases. Leases
 that the scheduler does not use in this scheduling run it stores for later use until they expire.
 <p>
 You cannot add a lease object with an Id equal to that of a stored lease object; <code>scheduleOnce()</code>
 will throw an <code>IllegalStateException</code>. Upon throwing this exception, if you provided multiple
 leases in the <code>newLeases</code> argument, the state of internally maintained list of unused leases will
 be in an indeterminate state - some of the leases may have been successfully added.
 <p>
 The task scheduler rejects any expired leases before scheduling begins. Then, it combines all leases of a
 host to determine the total available resources on the host. The scheduler then tries each task request,
 in the order that they appear in the given list, for assignment against the available hosts until
 successful. For each task the scheduler returns either a successful assignment result, or, a set of
 assignment failures.
 <p>
 After the scheduler evaluates all assignments, it will reject remaining leases if they are unused and
 their offer time is further in the past than lease expiration interval. This prevents the scheduler from
 hoarding leases. If you provided an autoscaler, the scheduler then launches autoscale evaluation to run
 asynchronously, which runs each registered autoscale rule based on its policy.
 <p>
 The successful assignments contain hosts to which tasks have been successfully assigned and the offers for that
 host that were used for the assignments. Fenzo removes those offers from its internal state. Normally, you
 would use those offers to launch the tasks. For any reason if you do not launch those tasks, you must either
 reject the offers to Mesos, or, re-add them to Fenzo with the next call to <a href="../../../com/netflix/fenzo/TaskScheduler.html#scheduleOnce-java.util.List-java.util.List-"><code>scheduleOnce(List, List)</code></a>.
 Otherwise, those offers would be "leaked out".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requests</code> - a list of task requests to match with resources, in their given order</dd>
<dd><code>newLeases</code> - new resource leases from hosts that the scheduler can use along with any previously
                  ununsed leases</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../com/netflix/fenzo/SchedulingResult.html" title="class in com.netflix.fenzo"><code>SchedulingResult</code></a> object that contains a task assignment results map and other summaries</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if you call this method concurrently or if you try to readd an existing
                               lease</dd>
</dl>
</li>
</ul>
<a name="getResourceStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResourceStatus</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.util.Map&lt;<a href="../../../com/netflix/fenzo/VMResource.html" title="enum in com.netflix.fenzo">VMResource</a>,java.lang.Double[]&gt;&gt;&nbsp;getResourceStatus()</pre>
<div class="block">Returns the state of resources on all known hosts. You can use this for debugging or informational
 purposes (occasionally). This method obtains and holds a lock for the duration of creating the state
 information. Scheduling runs are blocked around the lock.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Map of state information with the hostname as the key and a Map of resource state as the value.
         The resource state Map contains a resource as the key and a two element Double array - the first
         element of which contains the amount of the resource used and the second element contains the
         amount still available (available does not include used).</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Insights#how-to-learn-which-resources-are-available-on-which-hosts">How to Learn Which Resources Are Available on Which Hosts</a></dd>
</dl>
</li>
</ul>
<a name="getVmCurrentStates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVmCurrentStates</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/netflix/fenzo/VirtualMachineCurrentState.html" title="interface in com.netflix.fenzo">VirtualMachineCurrentState</a>&gt;&nbsp;getVmCurrentStates()
                                                              throws java.lang.IllegalStateException</pre>
<div class="block">Returns the current state of all known hosts. You might occasionally use this for debugging or
 informational purposes. If you call this method, it will obtain and hold a lock for as long as it takes
 to create the state information. Scheduling runs are blocked around the lock.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list containing the current state of all known VMs</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if you call this concurrently with the main scheduling method,
         <a href="../../../com/netflix/fenzo/TaskScheduler.html#scheduleOnce-java.util.List-java.util.List-"><code>scheduleOnce()</code></a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://github.com/Netflix/Fenzo/wiki/Insights#how-to-learn-the-amount-of-resources-currently-available-on-particular-hosts">How to Learn the Amount of Resources Currently Available on Particular Hosts</a></dd>
</dl>
</li>
</ul>
<a name="expireLease-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireLease</h4>
<pre>public&nbsp;void&nbsp;expireLease(java.lang.String&nbsp;leaseId)</pre>
<div class="block">Call this method to instruct the task scheduler to reject a particular resource offer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>leaseId</code> - the lease ID of the lease to expire</dd>
</dl>
</li>
</ul>
<a name="expireAllLeases-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAllLeases</h4>
<pre>public&nbsp;void&nbsp;expireAllLeases(java.lang.String&nbsp;hostname)</pre>
<div class="block">Call this method to instruct the task scheduler to reject all of the unused offers it is currently
 holding that concern resources offered by the host with the name <code>hostname</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - the name of the host whose leases you want to expire</dd>
</dl>
</li>
</ul>
<a name="expireAllLeasesByVMId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAllLeasesByVMId</h4>
<pre>public&nbsp;boolean&nbsp;expireAllLeasesByVMId(java.lang.String&nbsp;vmId)</pre>
<div class="block">Call this method to instruct the task scheduler to reject all of the unused offers it is currently
 holding that concern resources offered by the host with the ID, <code>vmId</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vmId</code> - the ID of the host whose leases you want to expire</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the given ID matches a known host, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="expireAllLeases--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAllLeases</h4>
<pre>public&nbsp;void&nbsp;expireAllLeases()</pre>
<div class="block">Call this method to instruct the task scheduler to reject all of the unused offers it is currently
 holding.</div>
</li>
</ul>
<a name="getTaskAssigner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskAssigner</h4>
<pre>public&nbsp;<a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;<a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo">TaskRequest</a>,java.lang.String&gt;&nbsp;getTaskAssigner()</pre>
<div class="block">Get the task assigner action. For each task you assign and launch, you must call your task scheduler's
 <code>getTaskAssigner().call()</code> method in order to notify Fenzo that the task has actually been deployed
 on a host.
 <p>
 In addition, in your framework's task completion callback that you supply to Mesos, you must call your
 task scheduler's <a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskUnAssigner--"><code>getTaskUnassigner().call()</code></a> method to notify Fenzo that the
 task is no longer assigned.
 <p>
 Some scheduling optimizers need to know not only which tasks are waiting to be scheduled and which hosts
 have resource offers available, but also which tasks have previously been assigned and are currently
 running on hosts. These two methods help Fenzo provide this information to these scheduling optimizers.
 <p>
 Note that you may not call the task assigner action concurrently with
 <a href="../../../com/netflix/fenzo/TaskScheduler.html#scheduleOnce-java.util.List-java.util.List-"><code>scheduleOnce()</code></a>. If you do so, the task assigner
 action will throw an <code>IllegalStateException</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a task assigner action</dd>
</dl>
</li>
</ul>
<a name="getTaskUnAssigner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskUnAssigner</h4>
<pre>public&nbsp;<a href="../../../com/netflix/fenzo/functions/Action2.html" title="interface in com.netflix.fenzo.functions">Action2</a>&lt;java.lang.String,java.lang.String&gt;&nbsp;getTaskUnAssigner()</pre>
<div class="block">Get the task unassigner action. Call this object's <code>call()</code> method to unassign an assignment you
 have previously set for each task that completes so that internal state is maintained correctly.
 <p>
 For each task you assign and launch, you must call your task scheduler's
 <a href="../../../com/netflix/fenzo/TaskScheduler.html#getTaskAssigner--"><code>getTaskAssigner().call()</code></a> method in order to notify Fenzo that the task has
 actually been deployed on a host.
 <p>
 In addition, in your framework's task completion callback that you supply to Mesos, you must call your
 task scheduler's <code>getTaskUnassigner().call()</code> method to notify Fenzo that the
 task is no longer assigned.
 <p>
 Some scheduling optimizers need to know not only which tasks are waiting to be scheduled and which hosts
 have resource offers available, but also which tasks have previously been assigned and are currently
 running on hosts. These two methods help Fenzo provide this information to these scheduling optimizers.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the task un-assigner action</dd>
</dl>
</li>
</ul>
<a name="disableVM-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableVM</h4>
<pre>public&nbsp;void&nbsp;disableVM(java.lang.String&nbsp;hostname,
                      long&nbsp;durationMillis)</pre>
<div class="block">Disable the virtual machine with the specified hostname. If the scheduler is not yet aware of the host
 with that hostname, it creates a new object for it, and therefore your disabling of it will be remembered
 when offers that concern that host come in later. The scheduler will not use disabled hosts for
 allocating resources to tasks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - the name of the host to disable</dd>
<dd><code>durationMillis</code> - the length of time, starting from now, in milliseconds, during which the host will
        be disabled</dd>
</dl>
</li>
</ul>
<a name="disableVMByVMId-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableVMByVMId</h4>
<pre>public&nbsp;boolean&nbsp;disableVMByVMId(java.lang.String&nbsp;vmID,
                               long&nbsp;durationMillis)</pre>
<div class="block">Disable the virtual machine with the specified ID. If the scheduler is not yet aware of the host with
 that hostname, it creates a new object for it, and therefore your disabling of it will be remembered when
 offers that concern that host come in later. The scheduler will not use disabled hosts for allocating
 resources to tasks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vmID</code> - the ID of the host to disable</dd>
<dd><code>durationMillis</code> - the length of time, starting from now, in milliseconds, during which the host will
        be disabled</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the ID matches a known VM, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="enableVM-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableVM</h4>
<pre>public&nbsp;void&nbsp;enableVM(java.lang.String&nbsp;hostname)</pre>
<div class="block">Enable the VM with the specified host name. Hosts start in an enabled state, so you only need to call
 this method if you have previously explicitly disabled the host.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - the name of the host to enable</dd>
</dl>
</li>
</ul>
<a name="setActiveVmGroupAttributeName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setActiveVmGroupAttributeName</h4>
<pre>public&nbsp;void&nbsp;setActiveVmGroupAttributeName(java.lang.String&nbsp;attributeName)</pre>
<div class="block">Set how the scheduler determines to which group the VM (host) belongs. You can group hosts. Which group a
 host belongs to is determined by the value of a particular attribute in its offers. You can set which
 attribute defines group membership by naming it in this method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attributeName</code> - the name of the attribute that determines a VM's group</dd>
</dl>
</li>
</ul>
<a name="setActiveVmGroups-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setActiveVmGroups</h4>
<pre>public&nbsp;void&nbsp;setActiveVmGroups(java.util.List&lt;java.lang.String&gt;&nbsp;vmGroups)</pre>
<div class="block">Set the list of VM group names that are active. VMs (hosts) that belong to groups that you do not include
 in this list are said to be disabled. The scheduler does not use the resources of disabled hosts when it
 allocates tasks. If you pass in a null list, this indicates that the scheduler should consider all groups
 to be enabled.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vmGroups</code> - a list of VM group names that the scheduler is to consider to be enabled, or <code>null</code>
        if the scheduler is to consider every group to be enabled</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/netflix/fenzo/TaskRequest.html" title="interface in com.netflix.fenzo"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/netflix/fenzo/TaskScheduler.Builder.html" title="class in com.netflix.fenzo"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/netflix/fenzo/TaskScheduler.html" target="_top">Frames</a></li>
<li><a href="TaskScheduler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
